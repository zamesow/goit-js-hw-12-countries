{"id":"index.js","dependencies":[{"name":"C:\\Users\\zames\\Desktop\\Projects\\GoIT-school\\goit-js-hw-12-countries\\module-12-3\\.babelrc","includedInParent":true,"mtime":1606680646314},{"name":"C:\\Users\\zames\\Desktop\\Projects\\GoIT-school\\goit-js-hw-12-countries\\module-12-3\\package.json","includedInParent":true,"mtime":1606682111216},{"name":"C:\\Users\\zames\\Desktop\\Projects\\GoIT-school\\goit-js-hw-12-countries\\.browserslistrc","includedInParent":true,"mtime":1606680572382},{"name":"./js/if","loc":{"line":3,"column":7},"parent":"C:\\Users\\zames\\Desktop\\Projects\\GoIT-school\\goit-js-hw-12-countries\\module-12-3\\src\\index.js","resolved":"C:\\Users\\zames\\Desktop\\Projects\\GoIT-school\\goit-js-hw-12-countries\\module-12-3\\src\\js\\if.js"},{"name":"./templates/articles.hbs","loc":{"line":5,"column":24},"parent":"C:\\Users\\zames\\Desktop\\Projects\\GoIT-school\\goit-js-hw-12-countries\\module-12-3\\src\\index.js","resolved":"C:\\Users\\zames\\Desktop\\Projects\\GoIT-school\\goit-js-hw-12-countries\\module-12-3\\src\\templates\\articles.hbs"},{"name":"./js/news-service","loc":{"line":6,"column":27},"parent":"C:\\Users\\zames\\Desktop\\Projects\\GoIT-school\\goit-js-hw-12-countries\\module-12-3\\src\\index.js","resolved":"C:\\Users\\zames\\Desktop\\Projects\\GoIT-school\\goit-js-hw-12-countries\\module-12-3\\src\\js\\news-service.js"}],"generated":{"js":"\"use strict\";\n\nrequire(\"./js/if\");\n\nvar _articles = _interopRequireDefault(require(\"./templates/articles.hbs\"));\n\nvar _newsService = _interopRequireDefault(require(\"./js/news-service\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://www.smashingmagazine.com/2018/01/deferring-lazy-loading-intersection-observer-api/\n// import './js/io';\nconst refs = getRefs();\nconst newsApiService = new _newsService.default();\nrefs.searchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n  e.preventDefault();\n  newsApiService.query = e.currentTarget.elements.query.value;\n\n  if (newsApiService.query === '') {\n    return alert('Введи что-то нормальное');\n  }\n\n  newsApiService.resetPage();\n  clearArticlesContainer();\n  newsApiService.fetchArticles().then(articles => {\n    appendArticlesMarkup(articles);\n    newsApiService.incrementPage();\n  });\n}\n\nfunction appendArticlesMarkup(articles) {\n  refs.articlesContainer.insertAdjacentHTML('beforeend', (0, _articles.default)(articles));\n}\n\nfunction clearArticlesContainer() {\n  refs.articlesContainer.innerHTML = '';\n}\n\nfunction getRefs() {\n  return {\n    searchForm: document.querySelector('.js-search-form'),\n    articlesContainer: document.querySelector('.js-articles-container'),\n    sentinel: document.querySelector('#sentinel')\n  };\n} // const onEntry = entries => {\n//   entries.forEach(entry => {\n//     if (entry.isIntersecting && newsApiService.query !== '') {\n//       // console.log('Пора грузить еще статьи' + Date.now());\n//       newsApiService.fetchArticles().then(articles => {\n//         appendArticlesMarkup(articles);\n//         newsApiService.incrementPage();\n//       });\n//     }\n//   });\n// };\n// const observer = new IntersectionObserver(onEntry, {\n//   rootMargin: '150px',\n// });\n// observer.observe(refs.sentinel);"},"sourceMaps":null,"error":null,"hash":"0fca723fb0981a4b21a11def8f6c2b55","cacheData":{"env":{}}}